[{"G:\\other\\client\\src\\index.js":"1","G:\\other\\client\\src\\reportWebVitals.js":"2","G:\\other\\client\\src\\frame\\Root.js":"3","G:\\other\\client\\src\\page\\Signin.js":"4","G:\\other\\client\\src\\frame\\Frame.js":"5","G:\\other\\client\\src\\components\\FormItem.js":"6","G:\\other\\client\\src\\uitls\\query.js":"7","G:\\other\\client\\src\\page\\system\\System.js":"8","G:\\other\\client\\src\\api.js":"9","G:\\other\\client\\src\\page\\Home.js":"10","G:\\other\\client\\src\\page\\ShopDetail.js":"11","G:\\other\\client\\src\\components\\Header.js":"12","G:\\other\\client\\src\\components\\Transition.js":"13","G:\\other\\client\\src\\components\\WebContext.js":"14","G:\\other\\client\\src\\page\\Building.js":"15","G:\\other\\client\\src\\uitls\\http.js":"16","G:\\other\\client\\src\\uitls\\tools.js":"17","G:\\other\\client\\src\\components\\ShopCard.js":"18","G:\\other\\client\\src\\hooks\\usePage.js":"19","G:\\other\\client\\src\\hooks\\usePortal.js":"20","G:\\other\\client\\src\\components\\Footer.js":"21","G:\\other\\client\\src\\components\\WxCodeModal.js":"22","G:\\other\\client\\src\\components\\TbModal.js":"23","G:\\other\\client\\src\\components\\ShowMessage.js":"24","G:\\other\\client\\src\\hooks\\useDebounce.js":"25"},{"size":735,"mtime":1614933859293,"results":"26","hashOfConfig":"27"},{"size":362,"mtime":1607618774917,"results":"28","hashOfConfig":"27"},{"size":314,"mtime":1617335049108,"results":"29","hashOfConfig":"27"},{"size":2065,"mtime":1617335049109,"results":"30","hashOfConfig":"27"},{"size":1131,"mtime":1614937334889,"results":"31","hashOfConfig":"27"},{"size":462,"mtime":1613435865805,"results":"32","hashOfConfig":"27"},{"size":2904,"mtime":1617375535695,"results":"33","hashOfConfig":"27"},{"size":1277,"mtime":1613434765937,"results":"34","hashOfConfig":"27"},{"size":819,"mtime":1617376025379,"results":"35","hashOfConfig":"27"},{"size":2799,"mtime":1617377077511,"results":"36","hashOfConfig":"27"},{"size":3848,"mtime":1617373245125,"results":"37","hashOfConfig":"27"},{"size":1612,"mtime":1617376638972,"results":"38","hashOfConfig":"27"},{"size":812,"mtime":1614933241860,"results":"39","hashOfConfig":"27"},{"size":87,"mtime":1614783377321,"results":"40","hashOfConfig":"27"},{"size":199,"mtime":1613434758061,"results":"41","hashOfConfig":"27"},{"size":489,"mtime":1617335049110,"results":"42","hashOfConfig":"27"},{"size":2477,"mtime":1617425671471,"results":"43","hashOfConfig":"27"},{"size":1126,"mtime":1617376625888,"results":"44","hashOfConfig":"27"},{"size":1691,"mtime":1617373334400,"results":"45","hashOfConfig":"27"},{"size":684,"mtime":1614569294172,"results":"46","hashOfConfig":"47"},{"size":433,"mtime":1617375584872,"results":"48","hashOfConfig":"27"},{"size":2332,"mtime":1617430435466,"results":"49","hashOfConfig":"27"},{"size":1938,"mtime":1617425583490,"results":"50","hashOfConfig":"27"},{"size":902,"mtime":1617372917920,"results":"51","hashOfConfig":"27"},{"size":520,"mtime":1614784520959,"results":"52","hashOfConfig":"27"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},"18nklu9",{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"55"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"55"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70","usedDeprecatedRules":"55"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"55"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"55"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"55"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"55"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"55"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"55"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97","usedDeprecatedRules":"55"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"102","usedDeprecatedRules":"55"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1s51bd9",{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"55"},"G:\\other\\client\\src\\index.js",[],["117","118"],"G:\\other\\client\\src\\reportWebVitals.js",[],"G:\\other\\client\\src\\frame\\Root.js",[],"G:\\other\\client\\src\\page\\Signin.js",["119"],"import React from \"react\";\r\nimport { Box, Heading, TextField, Callout, Button, Spinner } from \"gestalt\";\r\nimport { useQuery } from \"../uitls/query\";\r\nimport { signin } from \"../api\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport FormItem from \"../components/FormItem\";\r\n\r\nfunction Signin({ history }) {\r\n  let { fetch, error, loading } = useQuery(signin, null, {\r\n    onSuccess: () => {\r\n      history.push(\"/shop\");\r\n    },\r\n  });\r\n  const { register, handleSubmit, errors } = useForm();\r\n  const onSubmit = (data) => {\r\n    fetch(data);\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" justifyContent=\"center\" height=\"100%\">\r\n      <Box borderStyle=\"sm\" display=\"flex\" margin=\"auto\" marginTop=\"auto\" wrap width=\"100%\" direction=\"column\" maxWidth={800}>\r\n        <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n          <Heading size=\"sm\" accessibilityLevel={2}>\r\n            登录后台管理系统\r\n          </Heading>\r\n        </Box>\r\n        <Box paddingX={1} paddingY={1}>\r\n          {error && <Callout type=\"error\" iconAccessibilityLabel=\"Error icon\" message={error} />}\r\n        </Box>\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <FormItem com={TextField} name=\"name\" label=\"账号\" placeholder=\"请输入账号\" ref={register} />\r\n          </Box>\r\n\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <FormItem com={TextField} name=\"password\" label=\"密码\" type=\"password\" placeholder=\"请输入密码\" ref={register} />\r\n          </Box>\r\n\r\n          <Spinner show={loading} accessibilityLabel=\"登录中\" size=\"sm\" />\r\n          <Box flex=\"grow\" paddingX={3} paddingY={3}>\r\n            <Box justifyContent=\"end\" marginStart={-1} marginEnd={-1} marginTop={-1} marginBottom={-1} display=\"flex\" wrap>\r\n              <Box paddingX={1} paddingY={1}>\r\n                <Button text=\"登录\" color=\"red\" size=\"lg\" type=\"submit\" />\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </form>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\nexport default Signin;\r\n","G:\\other\\client\\src\\frame\\Frame.js",["120","121","122","123","124","125","126","127","128"],"import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { Switch, Route, Link } from \"react-router-dom\";\r\nimport Header from \"../components/Header\";\r\nimport System from \"../page/system/System\";\r\nimport ShopDetail from \"../page/ShopDetail\";\r\nimport Home from \"../page/Home\";\r\nimport Transition from \"../components/Transition\";\r\nimport { useAutoQuery } from \"../uitls/query\";\r\nimport { WebCtx } from \"../components/WebContext\";\r\nimport { getWebConfig } from \"../api\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { getImgSrc } from \"../uitls/tools\";\r\n\r\nfunction IndexPage(props) {\r\n  let { data, loading } = useAutoQuery(getWebConfig);\r\n  return (\r\n    <WebCtx.Provider value={data}>\r\n      <Helmet>\r\n        <title>{data.title}</title>\r\n        <link rel=\"icon\" href={getImgSrc(data.icon)} />\r\n        <link rel=\"apple-touch-icon\" href={getImgSrc(data.logo)} />\r\n      </Helmet>\r\n      <Switch location={props.location}>\r\n        <Route path=\"/shop/:id\" component={ShopDetail} />\r\n        <Route path=\"/\" component={Home} />\r\n      </Switch>\r\n    </WebCtx.Provider>\r\n  );\r\n}\r\n\r\nexport default IndexPage;\r\n","G:\\other\\client\\src\\components\\FormItem.js",[],"G:\\other\\client\\src\\uitls\\query.js",["129","130","131"],"import { useState, useEffect, useRef } from \"react\";\r\n\r\nfunction handleOption(opt) {\r\n  let newList = [];\r\n  function work(opt) {\r\n    if (Array.isArray(opt)) {\r\n      opt.forEach(work);\r\n    } else if (opt instanceof Object) {\r\n      Object.values(opt).forEach(work);\r\n    } else {\r\n      newList.push(opt);\r\n    }\r\n  }\r\n  work(opt);\r\n  return newList;\r\n}\r\n\r\nfunction useBaseFetch(ql, { defaultData }) {\r\n  let [data, setData] = useState(defaultData || {});\r\n  let [loading, setLoading] = useState(false);\r\n  let [error, setError] = useState(null);\r\n  let [oldParams, setOldParams] = useState({});\r\n\r\n  let stateRef = useRef();\r\n  useEffect(() => {\r\n    stateRef.current = true;\r\n    return () => {\r\n      stateRef.current = false;\r\n    };\r\n  }, []);\r\n\r\n  function fetch(params, { onError, onSuccess, updateQuery, title = \"请求\" }) {\r\n    setOldParams(params);\r\n    // 初始数据\r\n    setLoading(true);\r\n    //setData({});\r\n    setError(null);\r\n    ql(params)\r\n      .then((res) => {\r\n        if (!stateRef.current) {\r\n          return;\r\n        }\r\n        onSuccess && onSuccess({ type: \"success\", message: `${title}成功` }, res);\r\n        setLoading(false);\r\n        if (updateQuery) {\r\n          res = updateQuery(data, res, oldParams, params);\r\n        }\r\n        setData(res);\r\n      })\r\n      .catch(function (error) {\r\n        if (!stateRef.current) {\r\n          return;\r\n        }\r\n        setLoading(false);\r\n        setError(error.message);\r\n        onError && onError({ type: \"error\", message: `${error.message || error.msg}` });\r\n      });\r\n  }\r\n  //更新缓存数据\r\n  function updateCache(fun) {\r\n    setData(fun(data));\r\n  }\r\n  return { fetch, data, loading, error, setError, updateCache, setLoading };\r\n}\r\nexport function useQuery(ql, params, options) {\r\n  let context = useBaseFetch(ql, options);\r\n  return {\r\n    ...context,\r\n    fetch: (newParams, newOptions) => {\r\n      context.fetch({ ...params, ...newParams }, { ...options, ...newOptions });\r\n    },\r\n  };\r\n}\r\n\r\nexport function useAutoQuery(ql, params = {}, options = {}) {\r\n  let context = useBaseFetch(ql, options);\r\n  let defaultData = options.defaultData;\r\n  let notDefault = useRef();\r\n  useEffect(() => {\r\n    let isFetch = notDefault.current || !defaultData || Object.keys(defaultData).length == 0;\r\n    notDefault.current = true;\r\n    if (isFetch) {\r\n      //是否等待\r\n      if (options.stop) {\r\n        //停止不需要加载效果\r\n      } else if (options.hold) {\r\n        //hold需要加载效果\r\n        context.setLoading(true);\r\n      } else {\r\n        context.fetch(params, options);\r\n      }\r\n    }\r\n  }, handleOption(params));\r\n\r\n  return {\r\n    ...context,\r\n    fetchMore: (newParams, newOptions, updateQuery) => {\r\n      context.fetch({ ...params, ...newParams }, { updateQuery, ...options, ...newOptions });\r\n    },\r\n    update: () => {\r\n      context.fetch(params, options);\r\n    },\r\n  };\r\n}\r\n","G:\\other\\client\\src\\page\\system\\System.js",[],"G:\\other\\client\\src\\api.js",["132"],"import axios from \"./uitls/http\";\r\nexport const baseUrl = process.env.NODE_ENV == \"development\" ? \"/api\" : \"\";\r\n//登录\r\nexport async function signin(params) {\r\n  let { data } = await axios.post(baseUrl + \"/user/signin\", { ...params });\r\n  return data.data;\r\n}\r\n\r\n//获取用户消息\r\nexport async function userInfo(params) {\r\n  let { data } = await axios.get(baseUrl + \"/user/info\", { ...params });\r\n  return data.data;\r\n}\r\n\r\nexport async function shops(params) {\r\n  let { data } = await axios.get(baseUrl + \"/shop/list\", { params });\r\n  return data.data;\r\n}\r\n\r\nexport async function shop({ id }) {\r\n  let { data } = await axios.get(baseUrl + \"/shop/shop/\" + id);\r\n  return data.data;\r\n}\r\n\r\nexport async function getWebConfig() {\r\n  let { data } = await axios.get(baseUrl + \"/web/config/\");\r\n  return data.data;\r\n}\r\n","G:\\other\\client\\src\\page\\Home.js",["133","134","135","136","137","138"],"import { useEffect, useState } from \"react\";\r\nimport { Box, Spinner, Button } from \"gestalt\";\r\nimport ShopCard from \"../components/ShopCard\";\r\n\r\nimport { useAutoQuery, useQuery } from \"../uitls/query\";\r\nimport { shops } from \"../api\";\r\n\r\nimport { useScrollBottom, useResetScroll } from \"../hooks/usePage\";\r\n\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport wxIcon from \"../style/wx.png\";\r\nimport styled from \"styled-components\";\r\nimport WxCodeModal from \"../components/WxCodeModal\";\r\n\r\nconst ImgIcon = styled.img`\r\n  width: 28px;\r\n  height: 28px;\r\n  margin: -8px 0;\r\n`;\r\n\r\n//存入pageList\r\nlet pData = null;\r\nfunction Home({ location, history }) {\r\n  let params = new URLSearchParams(location.search);\r\n  let [keyword, setKeyword] = useState(\"\");\r\n  let [showCode, setShowCode] = useState(false);\r\n  let { data, update, loading, fetchMore } = useAutoQuery(shops, { status: params.get(\"status\") || 0, keyword, page_size: 20 }, { defaultData: pData });\r\n  pData = data;\r\n  let { list, page, total_page, page_size } = data;\r\n  useScrollBottom(() => {\r\n    if (!loading && page < total_page) {\r\n      fetchMore({ page: page ? page + 1 : 1 }, {}, (pData, cData, pParams, cParams) => {\r\n        let pList = pData.list || [];\r\n        return { ...cData, list: [...pList, ...cData.list] };\r\n      });\r\n    }\r\n  }, [page, total_page, loading]);\r\n  useResetScroll(location.pathname, history.action);\r\n\r\n  return (\r\n    <Box minHeight=\"105vh\" color=\"lightGray\">\r\n      <Box height={80}></Box>\r\n      <Box padding={1} display=\"flex\" direction=\"column\" alignItems=\"center\" minHeight=\"85vh\">\r\n        <Box display=\"flex\" wrap maxWidth=\"100%\" width=\"1200px\">\r\n          {list?.map((item, key) => (\r\n            <Box key={item.id} column={6} smColumn={6} mdColumn={3} mdColumn={2}>\r\n              <Box margin={1}>\r\n                <ShopCard data={item} proxy={params.get(\"proxy\") == 1} />\r\n              </Box>\r\n            </Box>\r\n          ))}\r\n        </Box>\r\n        <Spinner show={loading} accessibilityLabel=\"加载中\" size=\"sm\" />\r\n      </Box>\r\n      <Header onSearch={setKeyword} />\r\n      <Footer />\r\n\r\n      {showCode && (\r\n        <WxCodeModal\r\n          onDismiss={(e) => {\r\n            setShowCode(false);\r\n          }}\r\n        />\r\n      )}\r\n      <Box position=\"fixed\" color=\"white\" bottom left right display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height={80}>\r\n        <Button\r\n          size=\"lg\"\r\n          onClick={(e) => {\r\n            setShowCode(true);\r\n          }}\r\n          text={\r\n            <>\r\n              <ImgIcon src={wxIcon} /> 下单客服\r\n            </>\r\n          }\r\n          color=\"blue\"\r\n          inline\r\n        />\r\n      </Box>\r\n\r\n      <Box height={80}></Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","G:\\other\\client\\src\\page\\ShopDetail.js",["139","140","141"],"import React, { useState } from \"react\";\r\nimport { Box, Heading, IconButton, Text, Button } from \"gestalt\";\r\n\r\nimport { useAutoQuery } from \"../uitls/query\";\r\nimport { shop } from \"../api\";\r\nimport { getImgSrc } from \"../uitls/tools\";\r\n\r\nimport { PhotoSlider, PhotoProvider, PhotoConsumer } from \"react-photo-view\";\r\nimport \"../style/photoview.css\";\r\nimport styled from \"styled-components\";\r\nimport wxIcon from \"../style/wx.png\";\r\nimport tbIcon from \"../style/tb.png\";\r\nimport WxCodeModal from \"../components/WxCodeModal\";\r\nimport TbModal from \"../components/TbModal\";\r\n\r\nconst ImgIcon = styled.img`\r\n  width: 28px;\r\n  height: 28px;\r\n  margin: -8px 0;\r\n`;\r\n\r\nconst Img = styled.img`\r\n  width: 100%;\r\n`;\r\n\r\nfunction ShopDetail(props) {\r\n  let params = new URLSearchParams(props.location.search);\r\n  let proxy = params.get(\"proxy\") == 1;\r\n  let [items, setItems] = useState([]);\r\n  let [index, setIndex] = useState(0);\r\n  let [wxShowCode, setWxShowCode] = useState(false);\r\n  let [tbShow, setTbShow] = useState(false);\r\n\r\n  let { data } = useAutoQuery(\r\n    shop,\r\n    { id: props.match.params.id },\r\n    {\r\n      onSuccess: (msg, data) => {\r\n        console.log(data);\r\n        let list = data.photo.map((item) => ({\r\n          src: getImgSrc(item.url),\r\n        }));\r\n        setItems(list);\r\n      },\r\n    }\r\n  );\r\n\r\n  let [isOpen, setIsOpen] = useState(false);\r\n\r\n  function handleClose() {\r\n    setIsOpen(false);\r\n    // setTimeout(() => {\r\n    //   props.history.goBack();\r\n    // }, 300);\r\n  }\r\n  return (\r\n    <Box minHeight=\"100%\" padding={4} display=\"flex\" direction=\"column\" justifyContent=\"center\">\r\n      <Box position=\"fixed\" top left margin={4}>\r\n        <IconButton\r\n          icon=\"arrow-back\"\r\n          onClick={(e) => {\r\n            props.history.goBack();\r\n          }}\r\n        />\r\n      </Box>\r\n      <Box marginTop={2}>\r\n        <Text truncate color=\"gray\" align=\"center\">\r\n          {proxy ? data.proxy_name : data.name}\r\n        </Text>\r\n      </Box>\r\n      <Box marginTop={2} display=\"flex\" alignItems=\"center\" justifyContent=\"center\">\r\n        <Text weight=\"bold\">￥</Text> <Heading size=\"md\">{proxy ? data.proxy_price : data.price}</Heading>\r\n      </Box>\r\n      <Box marginTop={8}>\r\n        {data.photo?.map((item, key) => (\r\n          <Img\r\n            src={getImgSrc(item.url)}\r\n            onClick={(e) => {\r\n              setIndex(key);\r\n              setIsOpen(true);\r\n            }}\r\n          />\r\n        ))}\r\n      </Box>\r\n      <PhotoSlider images={items} visible={isOpen} onClose={handleClose} maskClosable={false} index={index} onIndexChange={setIndex} />\r\n      {wxShowCode && (\r\n        <WxCodeModal\r\n          onDismiss={(e) => {\r\n            setWxShowCode(false);\r\n          }}\r\n        />\r\n      )}\r\n      {tbShow && (\r\n        <TbModal\r\n          taobao={data.taobao}\r\n          onDismiss={(e) => {\r\n            setTbShow(false);\r\n          }}\r\n        />\r\n      )}\r\n      <Box position=\"fixed\" color=\"white\" bottom left right display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height={80}>\r\n        <Box>\r\n          <Button\r\n            size=\"lg\"\r\n            onClick={(e) => {\r\n              setWxShowCode(true);\r\n            }}\r\n            text={\r\n              <>\r\n                <ImgIcon src={wxIcon} /> 微信下单\r\n              </>\r\n            }\r\n            color=\"blue\"\r\n            inline\r\n          />\r\n        </Box>\r\n        <Box marginStart={2}>\r\n          <Button\r\n            size=\"lg\"\r\n            onClick={(e) => {\r\n              setTbShow(true);\r\n            }}\r\n            text={\r\n              <>\r\n                <ImgIcon src={tbIcon} /> 淘宝下单入口\r\n              </>\r\n            }\r\n            color=\"blue\"\r\n            inline\r\n          />\r\n        </Box>\r\n      </Box>\r\n\r\n      <Box height={80}></Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default ShopDetail;\r\n","G:\\other\\client\\src\\components\\Header.js",["142","143"],"import React, { useContext, useState } from \"react\";\r\nimport { Box, Icon, Heading, SearchField } from \"gestalt\";\r\nimport styled from \"styled-components\";\r\nimport { WebCtx } from \"./WebContext\";\r\n//import usePortal from \"../hooks/usePortal\";\r\nimport { getImgSrc } from \"../uitls/tools\";\r\nimport useDebounce from \"../hooks/useDebounce\";\r\n\r\nconst HeaderBox = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  width: 100%;\r\n  background-color: white;\r\n  z-index: 0;\r\n`;\r\n\r\nfunction Header({ history, onSearch }) {\r\n  let [keyword, setKeyword] = useState(\"\");\r\n  let debounce = useDebounce(onSearch, 800);\r\n  let web = useContext(WebCtx);\r\n\r\n  // let { Portal } = usePortal();\r\n  return (\r\n    <Box>\r\n      <HeaderBox color=\"white\" width={\"100%\"}>\r\n        <Box display=\"flex\" alignItems=\"center\">\r\n          <Box padding={3} lgDisplay=\"block\" display=\"none\">\r\n            <img src={getImgSrc(web.logo)} width={35} height={35} />\r\n          </Box>\r\n\r\n          <Box padding={2} lgDisplay=\"block\" display=\"none\">\r\n            <Heading color=\"red\" size=\"sm\">\r\n              {web.title}\r\n            </Heading>\r\n          </Box>\r\n          <Box flex=\"grow\" paddingX={2} paddingY={3}>\r\n            <SearchField\r\n              accessibilityLabel=\"搜索对应款号\"\r\n              id=\"searchField\"\r\n              onChange={({ value }) => {\r\n                setKeyword(value);\r\n                debounce(value);\r\n              }}\r\n              placeholder=\"搜索对应款号\"\r\n              value={keyword}\r\n            />\r\n          </Box>\r\n        </Box>\r\n      </HeaderBox>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","G:\\other\\client\\src\\components\\Transition.js",["144","145"],"import React from \"react\";\r\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\r\n\r\n// The duration for each phase of the transition\r\n// So the total duration will be _twice_ this\r\nconst timeout = 600;\r\n\r\nlet pPathName = \"\";\r\nconst Transition = ({ children, history, location }) => {\r\n  //记录上次动画的key，如果页面非替换则播放动画\r\n  if (history.action != \"REPLACE\") {\r\n    pPathName = location.pathname;\r\n  }\r\n  return (\r\n    <TransitionGroup>\r\n      <CSSTransition appear={true} key={history.action == \"REPLACE\" ? pPathName : location.pathname} timeout={timeout} classNames=\"page\">\r\n        {/* {(status) => <div style={styles[status]}></div>} */}\r\n        <div>{children}</div>\r\n      </CSSTransition>\r\n    </TransitionGroup>\r\n  );\r\n};\r\n\r\nexport default Transition;\r\n","G:\\other\\client\\src\\components\\WebContext.js",["146"],"import React, { createContext } from \"react\";\r\nexport const WebCtx = createContext();\r\n","G:\\other\\client\\src\\page\\Building.js",[],"G:\\other\\client\\src\\uitls\\http.js",[],"G:\\other\\client\\src\\uitls\\tools.js",["147","148","149"],"import { useState, useEffect } from \"react\";\r\nimport { baseUrl } from \"../api\";\r\n//解析url请求参数\r\nexport function parseQuery(query) {\r\n  var reg = /([^=&\\s]+)[=\\s]*([^&\\s]*)/g;\r\n  var obj = {};\r\n  while (reg.exec(query)) {\r\n    obj[RegExp.$1] = RegExp.$2;\r\n  }\r\n  return obj;\r\n}\r\n\r\nexport function getVideoData() {\r\n  let sourceList = JSON.parse(localStorage.getItem(\"sourceList\"));\r\n  let queryData = parseQuery(window.location.search.slice(1));\r\n  return sourceList.find((item) => item.id == queryData.id);\r\n}\r\n\r\nexport function useVideo() {\r\n  let [data, setData] = useState({});\r\n  useEffect(() => {\r\n    setData(getVideoData());\r\n  }, []);\r\n  return data;\r\n}\r\n\r\nexport function getImgSrc(src) {\r\n  return src && src.startsWith(\"http\") ? src : `${baseUrl}${src}`;\r\n}\r\nexport function getThumbSrc(src, size = \"sm\") {\r\n  return src && src.startsWith(\"http\") ? src : `${baseUrl}/file/thumb?img=${src}&size=${size}`;\r\n}\r\n\r\nexport function clearAllCookie() {\r\n  var date = new Date();\r\n  date.setTime(date.getTime() - 10000);\r\n  var keys = document.cookie.match(/[^ =;]+(?=\\=)/g);\r\n  console.log(\"需要删除的cookie名字：\" + keys);\r\n  if (keys) {\r\n    for (var i = keys.length; i--; ) document.cookie = keys[i] + \"=0; expire=\" + date.toGMTString() + \"; path=/\";\r\n  }\r\n}\r\n\r\n//获取图片高宽\r\nfunction getImageWidth(url) {\r\n  var img = new Image();\r\n  img.src = url;\r\n  let obj = {};\r\n  // 如果图片被缓存，则直接返回缓存数据\r\n  if (img.complete) {\r\n    obj.width = img.width;\r\n    obj.height = img.height;\r\n    return obj;\r\n  } else {\r\n    img.onload = function () {\r\n      obj.width = img.width;\r\n      obj.height = img.height;\r\n      return obj;\r\n    };\r\n  }\r\n}\r\n\r\n//复制节点中的文字\r\nexport function copyTranslateResult(copyDOM, setMessage) {\r\n  if (copyDOM.innerHTML !== \"\") {\r\n    var range = document.createRange(); //创建一个range\r\n\r\n    window.getSelection().removeAllRanges(); //清楚页面中已有的selection\r\n\r\n    range.selectNode(copyDOM); // 选中需要复制的节点\r\n\r\n    window.getSelection().addRange(range); // 执行选中元素\r\n\r\n    var successful = document.execCommand(\"copy\"); // 执行 copy 操作\r\n    console.log(successful);\r\n    if (successful) {\r\n      setMessage(\"复制成功！\");\r\n    } else {\r\n      setMessage(\"复制失败，请手动复制！\");\r\n    }\r\n\r\n    // 移除选中的元素\r\n\r\n    window.getSelection().removeAllRanges();\r\n  } else {\r\n    setMessage(\"没有内容\");\r\n  }\r\n}\r\n","G:\\other\\client\\src\\components\\ShopCard.js",[],"G:\\other\\client\\src\\hooks\\usePage.js",["150","151","152","153","154"],"import React, { useEffect } from \"react\";\r\n\r\nfunction getTarget() {\r\n  return document.documentElement;\r\n}\r\n\r\nfunction getTop() {\r\n  return document.documentElement.scrollTop || document.body.scrollTop;\r\n}\r\n\r\nfunction setTop(top) {\r\n  document.body.scrollTop = top;\r\n  document.documentElement.scrollTop = top;\r\n}\r\n\r\nexport function useScrollBottom(callback, params) {\r\n  useEffect(() => {\r\n    let target = getTarget();\r\n    function handleScroll(e) {\r\n      let bottomPadding = 100;\r\n      var scrollTop = getTop();\r\n      var windowHeight = target.clientHeight;\r\n      var scrollHeight = target.scrollHeight;\r\n      if (scrollTop + windowHeight >= scrollHeight - bottomPadding) {\r\n        callback();\r\n      }\r\n    }\r\n    document.addEventListener(\"scroll\", handleScroll);\r\n    return () => {\r\n      document.removeEventListener(\"scroll\", handleScroll);\r\n    };\r\n  }, params);\r\n}\r\n\r\nlet scrolls = {};\r\nexport function useResetScroll(path, active) {\r\n  console.log(path, active);\r\n  useEffect(() => {\r\n    let key = `pageScroll_${path}`;\r\n    let pTop = scrolls[key + \"_s\"];\r\n    let pHeight = scrolls[key + \"_h\"];\r\n    if (pTop && active == \"POP\") {\r\n      document.body.style.minHeight = pHeight + \"px\";\r\n      setTop(pTop);\r\n    }\r\n    let pageScroll = 0;\r\n    let pageHeight = 0;\r\n    function handleScroll() {\r\n      pageScroll = getTop();\r\n      pageHeight = document.body.offsetHeight;\r\n      scrolls[key + \"_s\"] = pageScroll;\r\n      scrolls[key + \"_h\"] = pageHeight;\r\n    }\r\n    document.addEventListener(\"scroll\", handleScroll);\r\n    return () => {\r\n      document.body.style.minHeight = \"auto\";\r\n      document.removeEventListener(\"scroll\", handleScroll);\r\n    };\r\n  }, []);\r\n}\r\n","G:\\other\\client\\src\\hooks\\usePortal.js",["155"],"G:\\other\\client\\src\\components\\Footer.js",[],"G:\\other\\client\\src\\components\\WxCodeModal.js",["156"],"G:\\other\\client\\src\\components\\TbModal.js",[],"G:\\other\\client\\src\\components\\ShowMessage.js",["157"],"import React, { useState, useEffect } from \"react\";\r\nimport { Box, Toast } from \"gestalt\";\r\nfunction ToastExample({ message = { type: \"\", message: \"\", setMessage: null }, time = 2000 }) {\r\n  let [showToast, setShowToast] = useState(false);\r\n  useEffect(() => {\r\n    if (message.message) {\r\n      setShowToast(true);\r\n      setTimeout(() => {\r\n        setShowToast(false);\r\n        if (message.setMessage) {\r\n          message.setMessage(\"\");\r\n        }\r\n      }, time);\r\n    }\r\n  }, [message.message]);\r\n  return (\r\n    <Box\r\n      fit\r\n      dangerouslySetInlineStyle={{\r\n        __style: {\r\n          bottom: 50,\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n        },\r\n      }}\r\n      paddingX={1}\r\n      position=\"fixed\"\r\n      zIndex={{ index: () => 2 }}\r\n    >\r\n      {showToast && <Toast text={message.message || \"\"} />}\r\n    </Box>\r\n  );\r\n}\r\nexport default ToastExample;\r\n","G:\\other\\client\\src\\hooks\\useDebounce.js",["158","159","160","161","162","163"],"import React, { useEffect, useState, useContext, useRef, useCallback } from \"react\";\r\nfunction useDebounce(fn, delay, dep = []) {\r\n  const { current } = useRef({ fn, timer: null });\r\n  useEffect(\r\n    function () {\r\n      current.fn = fn;\r\n    },\r\n    [fn]\r\n  );\r\n\r\n  return useCallback(function f(...args) {\r\n    if (current.timer) {\r\n      clearTimeout(current.timer);\r\n    }\r\n    current.timer = setTimeout(() => {\r\n      current.fn.call(this, ...args);\r\n    }, delay);\r\n  }, dep);\r\n}\r\n\r\nexport default useDebounce;\r\n",{"ruleId":"164","replacedBy":"165"},{"ruleId":"166","replacedBy":"167"},{"ruleId":"168","severity":1,"message":"169","line":14,"column":35,"nodeType":"170","messageId":"171","endLine":14,"endColumn":41},{"ruleId":"168","severity":1,"message":"172","line":1,"column":17,"nodeType":"170","messageId":"171","endLine":1,"endColumn":25},{"ruleId":"168","severity":1,"message":"173","line":1,"column":27,"nodeType":"170","messageId":"171","endLine":1,"endColumn":36},{"ruleId":"168","severity":1,"message":"174","line":1,"column":38,"nodeType":"170","messageId":"171","endLine":1,"endColumn":44},{"ruleId":"168","severity":1,"message":"175","line":1,"column":46,"nodeType":"170","messageId":"171","endLine":1,"endColumn":56},{"ruleId":"168","severity":1,"message":"176","line":2,"column":25,"nodeType":"170","messageId":"171","endLine":2,"endColumn":29},{"ruleId":"168","severity":1,"message":"177","line":3,"column":8,"nodeType":"170","messageId":"171","endLine":3,"endColumn":14},{"ruleId":"168","severity":1,"message":"178","line":4,"column":8,"nodeType":"170","messageId":"171","endLine":4,"endColumn":14},{"ruleId":"168","severity":1,"message":"179","line":7,"column":8,"nodeType":"170","messageId":"171","endLine":7,"endColumn":18},{"ruleId":"168","severity":1,"message":"180","line":15,"column":15,"nodeType":"170","messageId":"171","endLine":15,"endColumn":22},{"ruleId":"181","severity":1,"message":"182","line":80,"column":89,"nodeType":"183","messageId":"184","endLine":80,"endColumn":91},{"ruleId":"185","severity":1,"message":"186","line":93,"column":6,"nodeType":"187","endLine":93,"endColumn":26},{"ruleId":"185","severity":1,"message":"188","line":93,"column":6,"nodeType":"187","endLine":93,"endColumn":26,"suggestions":"189"},{"ruleId":"181","severity":1,"message":"182","line":2,"column":45,"nodeType":"183","messageId":"184","endLine":2,"endColumn":47},{"ruleId":"168","severity":1,"message":"173","line":1,"column":10,"nodeType":"170","messageId":"171","endLine":1,"endColumn":19},{"ruleId":"168","severity":1,"message":"190","line":5,"column":24,"nodeType":"170","messageId":"171","endLine":5,"endColumn":32},{"ruleId":"168","severity":1,"message":"191","line":28,"column":15,"nodeType":"170","messageId":"171","endLine":28,"endColumn":21},{"ruleId":"168","severity":1,"message":"192","line":30,"column":33,"nodeType":"170","messageId":"171","endLine":30,"endColumn":42},{"ruleId":"193","severity":1,"message":"194","line":47,"column":69,"nodeType":"195","endLine":47,"endColumn":81},{"ruleId":"181","severity":1,"message":"182","line":49,"column":66,"nodeType":"183","messageId":"184","endLine":49,"endColumn":68},{"ruleId":"168","severity":1,"message":"196","line":8,"column":23,"nodeType":"170","messageId":"171","endLine":8,"endColumn":36},{"ruleId":"168","severity":1,"message":"197","line":8,"column":38,"nodeType":"170","messageId":"171","endLine":8,"endColumn":51},{"ruleId":"181","severity":1,"message":"182","line":28,"column":35,"nodeType":"183","messageId":"184","endLine":28,"endColumn":37},{"ruleId":"168","severity":1,"message":"198","line":2,"column":15,"nodeType":"170","messageId":"171","endLine":2,"endColumn":19},{"ruleId":"199","severity":1,"message":"200","line":28,"column":13,"nodeType":"201","endLine":28,"endColumn":69},{"ruleId":"181","severity":1,"message":"202","line":11,"column":22,"nodeType":"183","messageId":"184","endLine":11,"endColumn":24},{"ruleId":"181","severity":1,"message":"182","line":16,"column":56,"nodeType":"183","messageId":"184","endLine":16,"endColumn":58},{"ruleId":"168","severity":1,"message":"203","line":1,"column":8,"nodeType":"170","messageId":"171","endLine":1,"endColumn":13},{"ruleId":"181","severity":1,"message":"182","line":16,"column":44,"nodeType":"183","messageId":"184","endLine":16,"endColumn":46},{"ruleId":"204","severity":1,"message":"205","line":37,"column":47,"nodeType":"206","messageId":"207","endLine":37,"endColumn":48,"suggestions":"208"},{"ruleId":"168","severity":1,"message":"209","line":45,"column":10,"nodeType":"170","messageId":"171","endLine":45,"endColumn":23},{"ruleId":"168","severity":1,"message":"203","line":1,"column":8,"nodeType":"170","messageId":"171","endLine":1,"endColumn":13},{"ruleId":"185","severity":1,"message":"186","line":32,"column":6,"nodeType":"170","endLine":32,"endColumn":12},{"ruleId":"185","severity":1,"message":"210","line":32,"column":6,"nodeType":"170","endLine":32,"endColumn":12,"suggestions":"211"},{"ruleId":"181","severity":1,"message":"182","line":42,"column":24,"nodeType":"183","messageId":"184","endLine":42,"endColumn":26},{"ruleId":"185","severity":1,"message":"212","line":59,"column":6,"nodeType":"213","endLine":59,"endColumn":8,"suggestions":"214"},{"ruleId":"185","severity":1,"message":"215","line":15,"column":8,"nodeType":"213","endLine":15,"endColumn":10,"suggestions":"216"},{"ruleId":"168","severity":1,"message":"217","line":3,"column":8,"nodeType":"170","messageId":"171","endLine":3,"endColumn":17},{"ruleId":"185","severity":1,"message":"218","line":15,"column":6,"nodeType":"213","endLine":15,"endColumn":23,"suggestions":"219"},{"ruleId":"168","severity":1,"message":"203","line":1,"column":8,"nodeType":"170","messageId":"171","endLine":1,"endColumn":13},{"ruleId":"168","severity":1,"message":"172","line":1,"column":28,"nodeType":"170","messageId":"171","endLine":1,"endColumn":36},{"ruleId":"168","severity":1,"message":"175","line":1,"column":38,"nodeType":"170","messageId":"171","endLine":1,"endColumn":48},{"ruleId":"185","severity":1,"message":"220","line":8,"column":5,"nodeType":"213","endLine":8,"endColumn":9,"suggestions":"221"},{"ruleId":"185","severity":1,"message":"222","line":18,"column":6,"nodeType":"170","endLine":18,"endColumn":9},{"ruleId":"185","severity":1,"message":"223","line":18,"column":6,"nodeType":"170","endLine":18,"endColumn":9,"suggestions":"224"},"no-native-reassign",["225"],"no-negated-in-lhs",["226"],"no-unused-vars","'errors' is assigned a value but never used.","Identifier","unusedVar","'useState' is defined but never used.","'useEffect' is defined but never used.","'useRef' is defined but never used.","'useContext' is defined but never used.","'Link' is defined but never used.","'Header' is defined but never used.","'System' is defined but never used.","'Transition' is defined but never used.","'loading' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook useEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","CallExpression","React Hook useEffect has missing dependencies: 'context', 'defaultData', 'options', and 'params'. Either include them or remove the dependency array.",["227"],"'useQuery' is defined but never used.","'update' is assigned a value but never used.","'page_size' is assigned a value but never used.","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'PhotoProvider' is defined but never used.","'PhotoConsumer' is defined but never used.","'Icon' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","Expected '!==' and instead saw '!='.","'React' is defined but never used.","no-useless-escape","Unnecessary escape character: \\=.","Literal","unnecessaryEscape",["228","229"],"'getImageWidth' is defined but never used.","React Hook useEffect has a missing dependency: 'callback'. Either include it or remove the dependency array. If 'callback' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["230"],"React Hook useEffect has missing dependencies: 'active' and 'path'. Either include them or remove the dependency array.","ArrayExpression",["231"],"React Hook useEffect has a missing dependency: 'target'. Either include it or remove the dependency array.",["232"],"'QRCodeImg' is defined but never used.","React Hook useEffect has missing dependencies: 'message' and 'time'. Either include them or remove the dependency array.",["233"],"React Hook useEffect has a missing dependency: 'current'. Either include it or remove the dependency array.",["234"],"React Hook useCallback was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","React Hook useCallback has missing dependencies: 'current' and 'delay'. Either include them or remove the dependency array.",["235"],"no-global-assign","no-unsafe-negation",{"desc":"236","fix":"237"},{"messageId":"238","fix":"239","desc":"240"},{"messageId":"241","fix":"242","desc":"243"},{"desc":"244","fix":"245"},{"desc":"246","fix":"247"},{"desc":"248","fix":"249"},{"desc":"250","fix":"251"},{"desc":"252","fix":"253"},{"desc":"254","fix":"255"},"Update the dependencies array to be: [context, defaultData, options, params]",{"range":"256","text":"257"},"removeEscape",{"range":"258","text":"259"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"260","text":"261"},"Replace the `\\` with `\\\\` to include the actual backslash character.","Update the dependencies array to be: [callback]",{"range":"262","text":"263"},"Update the dependencies array to be: [active, path]",{"range":"264","text":"265"},"Update the dependencies array to be: [target]",{"range":"266","text":"267"},"Update the dependencies array to be: [message, message.message, time]",{"range":"268","text":"269"},"Update the dependencies array to be: [current, fn]",{"range":"270","text":"271"},"Update the dependencies array to be: [current, delay]",{"range":"272","text":"273"},[2545,2565],"[context, defaultData, options, params]",[1068,1069],"",[1068,1068],"\\",[871,877],"[callback]",[1682,1684],"[active, path]",[446,448],"[target]",[483,500],"[message, message.message, time]",[252,256],"[current, fn]",[479,482],"[current, delay]"]